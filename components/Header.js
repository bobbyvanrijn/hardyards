import Image from 'next/image';
import Link from 'next/link';

import { useEffect } from 'react';
import { useRouter} from 'next/router'
import { useState } from 'react';

import Menu from './Menu';

import styles from './Header.module.css';

export default function Header() {
    const router = useRouter()
    const [menuActive, setActive] = useState(false);

    const toggleMenu = () => {
        setActive(!menuActive);
    };

    useEffect(() => {
        setActive(false)
    }, [router.query])

    return (
        <header className={styles.header}>
            <div className={styles.header__wrapper}>
                <Link
                    href='/'
                    title='Back to homepage'
                    className={`${styles.header__logo} trim-both`}
                >
                    Hard Yards
                    {/* <Image
                        className={styles.header__logo} 
                        src='/hardyards-light-sm.svg'
                        width='180'
                        height='30'
                        role='presentation'
                        alt='Hardyards'
                    /> */}
                    <svg width="24" height="24" viewBox="0 0 423 415" fill="white" xmlns="http://www.w3.org/2000/svg">
<path d="M134.5 193.5C109.5 185 74.1104 224.148 69.0325 236.943C63.9223 249.819 63.1692 263.83 68.9604 276.604C80.6133 302.308 107.512 325.741 134.238 334.812C158.685 343.11 184.667 326.473 195.864 304.799C199.172 298.396 200.262 291.221 197.822 284.324C196.31 280.048 192.264 273.915 186.956 274.452C182.141 274.939 178.797 279.839 176.801 283.729C172.298 292.503 174.474 299.76 180.47 307.388C191.598 321.542 209.682 331.626 225.532 339.476C244.718 348.979 262.867 347.669 284.274 342.949C304.203 338.555 322.006 331.82 333.232 315.395C347.881 293.962 355.891 281.075 361.384 255.52C368.402 222.869 367.294 167.742 327.935 156.309C310.286 151.183 292.464 146.397 276.5 153.5C266.477 155.443 259.49 161.85 253 170.5C250.693 173.574 249.967 179.715 253 182.666C256.886 186.447 261.409 187.383 267 186C278.659 183.117 281.69 173.048 286.771 163.315C294.402 148.697 299.662 132.514 299.862 115.912C300.163 90.8057 281.768 74.8985 260.74 64.3981C239.178 53.6313 209.961 62.8135 196.417 82.3794C191.964 88.8128 187.864 96.5284 185.426 103.986C183.917 108.603 181.972 114.174 184.482 118.813C188.568 126.365 200.208 127.647 204.289 119.681C207.652 113.119 205.465 106.706 201.811 100.762C195.321 90.2029 185.745 80.8541 174.948 74.7546C161.663 67.2499 145.376 65.4701 130.346 65.8441C119.949 66.1027 108.423 66.9705 101.903 76.0753C97.7664 81.8511 94.9881 88.5676 91.2756 94.6187C86.2519 102.807 80.5034 111.081 78.087 120.514C73.6417 137.868 100.287 188.622 130.618 209.992C136.046 213.817 143.233 212.96 148.495 208.91V208.91C153.124 205.347 151.645 198.02 145.996 196.53L134.5 193.5Z" fill="white" stroke-width="10" stroke-linecap="round"/>
<path d="M177.596 161.882C180.241 158.727 183.968 157.16 188.318 156.78C192.683 156.399 197.623 157.223 202.559 158.807C212.452 161.983 222.036 168.121 226.517 173.157C227.062 173.769 227.555 174.29 228.006 174.766C229.194 176.021 230.096 176.973 230.909 178.504C232.018 180.593 232.937 183.768 233.759 190.121C234.569 196.374 234.123 201.884 232.155 207.112C230.185 212.346 226.662 217.367 221.211 222.597C220.489 223.289 219.812 223.949 219.168 224.577C217.913 225.8 216.783 226.901 215.692 227.884C214.052 229.362 212.57 230.507 211.014 231.308C207.974 232.873 204.472 233.215 198.639 231.644C192.789 230.069 189.343 227.912 187.054 225.005C184.739 222.065 183.513 218.244 182.345 213.106C181.005 207.211 178.463 201.944 176.081 197.008C175.746 196.312 175.413 195.623 175.087 194.939C172.426 189.352 170.235 184.159 170.215 178.637C170.207 176.387 171.178 173.222 172.639 170.036C174.089 166.875 175.953 163.842 177.596 161.882Z" fill="black" stroke-width="10"/>
</svg>

                </Link>

                <div
                    onClick={toggleMenu}
                    className={`${styles.header__button} trim-both`}
                    data-active={menuActive}
                >
                    Menu
                </div>
            </div>

            <div
                className={styles.header__menuWrapper}
                data-active={menuActive}
            >
                <Menu
                    handleClose={toggleMenu}
                />
            </div>
        </header>
    );
}